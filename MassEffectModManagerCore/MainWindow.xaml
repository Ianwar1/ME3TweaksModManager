<Window
    x:Class="MassEffectModManagerCore.MainWindow" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:d="http://schemas.microsoft.com/expression/blend/2008" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:local="clr-namespace:MassEffectModManagerCore" xmlns:converters="clr-namespace:MassEffectModManagerCore.modmanager.converters" xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit" xmlns:adonisExtensions="clr-namespace:AdonisUI.Extensions;assembly=AdonisUI" xmlns:adonisUi="clr-namespace:AdonisUI;assembly=AdonisUI" xmlns:fa="http://schemas.fontawesome.io/icons/" xmlns:modmanager="clr-namespace:MassEffectModManagerCore.modmanager"
    xmlns:usercontrols="clr-namespace:MassEffectModManagerCore.modmanager.usercontrols"
    mc:Ignorable="d"
    Closing="ModManagerWindow_Closing"
    ContentRendered="ModManager_ContentRendered"
    AllowDrop="True"
    Icon="appicon.ico"
    Drop="Window_Drop"
    DragOver="Window_DragOver"
    Title="ME3Tweaks Mod Manager"
    Height="630"
    Width="850"
    MinHeight="630"
    MinWidth="700"
    DataContext="{Binding RelativeSource={RelativeSource Self}}"
    Name="MainWindow_Ref">
    <Window.Style>
        <Style
            TargetType="Window"
            BasedOn="{StaticResource {x:Type Window}}" />
    </Window.Style>
    <Window.Resources>
        <Storyboard
            x:Key="OpenLoadingSpinner"
            Storyboard.TargetProperty="(FrameworkElement.Width)">
            <DoubleAnimation
                To="32"
                Duration="0:0:0.25" />
        </Storyboard>
        <Storyboard
            x:Key="CloseLoadingSpinner">
            <DoubleAnimation
                To="0"
                Duration="0:0:0.25"
                Storyboard.TargetProperty="(FrameworkElement.Width)" />
        </Storyboard>
        <Style
            x:Key="MenuItemHeaderStyle"
            TargetType="{x:Type MenuItem}">
            <Setter
                Property="Margin"
                Value="-30,0,0,0" />
            <Setter
                Property="FontSize"
                Value="10" />
            <Setter
                Property="FontWeight"
                Value="Bold" />
            <Setter
                Property="Height"
                Value="14" />
            <Setter
                Property="StaysOpenOnClick"
                Value="True" />
            <Setter
                Property="BorderThickness"
                Value="0" />
            <Setter
                Property="Foreground"
                Value="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}" />
            <Setter
                Property="Background"
                Value="{DynamicResource {x:Static adonisUi:Brushes.MenuHeaderBackgroundBrush}}" />
        </Style>
        <Style
            x:Key="EnableDisableImageStyle"
            TargetType="{x:Type fa:ImageAwesome}">
            <Style.Triggers>
                <Trigger
                    Property="IsEnabled"
                    Value="False">
                    <Setter
                        Property="Opacity"
                        Value="0.75" />
                    <Setter
                        Property="BitmapEffect">
                        <Setter.Value>
                            <BlurBitmapEffect
                                Radius="2.0"
                                KernelType="Gaussian" />
                        </Setter.Value>
                    </Setter>
                </Trigger>
            </Style.Triggers>
        </Style>
        <x:Array
            x:Key="ModUtilsMenuArray"
            Type="MenuItem"
            x:Shared="False">
            <MenuItem
                Header="{Binding SelectedMod.ModName}"
                Style="{StaticResource MenuItemHeaderStyle}" />
            <MenuItem
                Header="{DynamicResource string_Checkforupdates}"
                Command="{Binding SelectedModCheckForUpdatesCommand}"
                ToolTip="{DynamicResource string_tooltip_checksForUpdatesToThisMod}">
                <MenuItem.Icon>
                    <fa:ImageAwesome
                        Style="{StaticResource EnableDisableImageStyle}"
                        Icon="Cloud"
                        Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                        Height="16"
                        Width="16" />
                </MenuItem.Icon>
            </MenuItem>
            <MenuItem
                Header="{DynamicResource string_RestoremodfromME3Tweaks}"
                Command="{Binding RestoreModFromME3TweaksCommand}"
                ToolTip="{DynamicResource string_tooltip_forcesUpdateCheck}">
                <MenuItem.Icon>
                    <fa:ImageAwesome
                        Style="{StaticResource EnableDisableImageStyle}"
                        Icon="CloudDownload"
                        Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                        Height="16"
                        Width="16"
                        RenderOptions.BitmapScalingMode="HighQuality" />
                </MenuItem.Icon>
            </MenuItem>
            <MenuItem
                Header="{DynamicResource string_listFilesThisModCanInstall}"
                Click="ListAllInstallableFiles_Click"
                ToolTip="{DynamicResource string_tooltip_listFilesThisModCanInstall}">
                <MenuItem.Icon>
                    <fa:ImageAwesome
                        Style="{StaticResource EnableDisableImageStyle}"
                        Icon="Search"
                        Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                        Height="16"
                        Width="16"
                        RenderOptions.BitmapScalingMode="HighQuality" />
                </MenuItem.Icon>
            </MenuItem>
            <!--<Separator/>-->
            <MenuItem
                Header="{DynamicResource string_Openmodfolder}"
                Click="OpenModFolder_Click"
                ToolTip="{Binding SelectedMod.ModPath}">
                <MenuItem.Icon>
                    <fa:ImageAwesome
                        Style="{StaticResource EnableDisableImageStyle}"
                        Icon="FolderOpen"
                        Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                        Height="16"
                        Width="16"
                        RenderOptions.BitmapScalingMode="HighQuality" />
                </MenuItem.Icon>
            </MenuItem>
            <MenuItem
                Header="{DynamicResource string_Deletemodfromlibrary}"
                Command="{Binding DeleteModFromLibraryCommand}"
                ToolTip="{DynamicResource string_tooltip_removesThisModFromYourLibrary}">
                <MenuItem.Icon>
                    <fa:ImageAwesome
                        Style="{StaticResource EnableDisableImageStyle}"
                        Icon="Close"
                        Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                        Height="16"
                        Width="16"
                        RenderOptions.BitmapScalingMode="HighQuality" />
                </MenuItem.Icon>
            </MenuItem>
            <MenuItem
                Header="{DynamicResource string_editModInfo}"
                Style="{StaticResource MenuItemHeaderStyle}"
                Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}" />
            <MenuItem
                Header="{DynamicResource string_Moddesceditor}"
                Command="{Binding ModdescEditorCommand}"
                Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}">
                <MenuItem.Icon>
                    <fa:ImageAwesome
                        Style="{StaticResource EnableDisableImageStyle}"
                        Icon="Wrench"
                        Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                        Height="16"
                        Width="16"
                        RenderOptions.BitmapScalingMode="HighQuality" />
                </MenuItem.Icon>
            </MenuItem>
            <MenuItem
                Header="{DynamicResource string_openModdesciniFile}"
                ToolTip="{DynamicResource string_tooltip_openModdescIniFile}"
                Command="{Binding OpenModDescCommand}"
                Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}">
                <MenuItem.Icon>
                    <fa:ImageAwesome
                        Style="{StaticResource EnableDisableImageStyle}"
                        Icon="Pencil"
                        Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                        Height="16"
                        Width="16"
                        RenderOptions.BitmapScalingMode="HighQuality" />
                </MenuItem.Icon>
            </MenuItem>
            <MenuItem
                Header="{DynamicResource string_packageModForRelease}"
                Style="{StaticResource MenuItemHeaderStyle}"
                Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}" />
            <MenuItem
                Header="{DynamicResource string_Deploymodto7zfilefordistribution}"
                ToolTip="{DynamicResource string_tooltip_deployTo7z}"
                Command="{Binding DeployModCommand}"
                Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}">
                <MenuItem.Icon>
                    <fa:ImageAwesome
                        Style="{StaticResource EnableDisableImageStyle}"
                        Icon="FileZipOutline"
                        Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                        Height="16"
                        Width="16"
                        RenderOptions.BitmapScalingMode="HighQuality" />
                </MenuItem.Icon>
            </MenuItem>
            <MenuItem
                Header="{DynamicResource string_mE3TweaksUpdaterService}"
                Style="{StaticResource MenuItemHeaderStyle}"
                Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}" />
            <MenuItem
                Header="{DynamicResource string_Prepareforupdaterservice}"
                Command="{Binding UpdaterServiceCommand}"
                ToolTip="{DynamicResource string_tooltip_uploadToUpdaterService}"
                Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}">
                <MenuItem.Icon>
                    <fa:ImageAwesome
                        Style="{StaticResource EnableDisableImageStyle}"
                        Icon="CloudUpload"
                        Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                        Height="16"
                        Width="16"
                        RenderOptions.BitmapScalingMode="HighQuality" />
                </MenuItem.Icon>
            </MenuItem>
            <MenuItem
                Header="{DynamicResource string_editUpdaterServiceSettings}"
                Command="{Binding UpdaterServiceSettingsCommand}"
                ToolTip="{DynamicResource string_tooltip_updaterServiceSettings}"
                Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}" />
            <MenuItem
                Header="{DynamicResource string_thirdPartyIdentificationService}"
                Style="{StaticResource MenuItemHeaderStyle}"
                Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}" />
            <MenuItem
                Header="{DynamicResource string_SubmitmodinformationtoME3Tweaks}"
                Command="{Binding SubmitTelemetryForModCommand}"
                ToolTip="{DynamicResource string_tooltip_submitTPMI}"
                Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}">
                <MenuItem.Icon>
                    <fa:ImageAwesome
                        Style="{StaticResource EnableDisableImageStyle}"
                        Icon="Info"
                        Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                        Height="16"
                        Width="16"
                        RenderOptions.BitmapScalingMode="HighQuality" />
                </MenuItem.Icon>
            </MenuItem>
            <MenuItem
                Header="{DynamicResource string_debugging}"
                Style="{StaticResource MenuItemHeaderStyle}"
                Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}" />
            <MenuItem
                Header="{DynamicResource string_CreateTestingArchive}"
                ToolTip="{DynamicResource string_CreateTestingArchiveTooltip}"
                Command="{Binding CreateTestArchiveCommand}"
                Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}">
                <MenuItem.Icon>
                    <fa:ImageAwesome
                        Style="{StaticResource EnableDisableImageStyle}"
                        Icon="Bug"
                        Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                        Height="16"
                        Width="16"
                        RenderOptions.BitmapScalingMode="HighQuality" />
                </MenuItem.Icon>
            </MenuItem>
        </x:Array>
    </Window.Resources>
    <xctk:BusyIndicator
        IsBusy="{Binding IsBusy}"
        BusyContent="{Binding BusyContent}">
        <DockPanel>
            <Menu
                DockPanel.Dock="Top">
                <Menu.ItemsPanel>
                    <ItemsPanelTemplate>
                        <DockPanel
                            HorizontalAlignment="Stretch" />
                    </ItemsPanelTemplate>
                </Menu.ItemsPanel>
                <Menu.Resources></Menu.Resources>
                <MenuItem
                    Header="{DynamicResource string_Actions}"
                    Padding="4">
                    <MenuItem
                        Header="{DynamicResource string_OpenME3Tweaks}"
                        IsEnabled="True"
                        Click="OpenME3Tweaks_Click"
                        ToolTip="{DynamicResource string_OpensME3Tweaks}">
                        <MenuItem.Icon>
                            <fa:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Globe"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_OpenMemoryAnalyzer}"
                        IsEnabled="True"
                        Click="OpenMemoryAnalyzer_Click"
                        Visibility="{x:Static local:App.IsDebugVisibility}" />
                    <MenuItem
                        Header="{DynamicResource string_Options}">
                        <MenuItem.Icon>
                            <fa:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="List"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                        <MenuItem
                            Header="{DynamicResource string_ModManager}"
                            Style="{StaticResource MenuItemHeaderStyle}" />
                        <MenuItem
                            Name="SetModLibraryPath_MenuItem"
                            Header="{DynamicResource string_Setmodlibrarypath}"
                            StaysOpenOnClick="True"
                            Click="ChangeSetting_Clicked"
                            ToolTip="{Binding Path=(modmanager:Settings.ModLibraryPath), Mode=OneWay}" />
                        <MenuItem
                            Name="BetaMode_MenuItem"
                            Header="{DynamicResource string_optIntoBetaUpdates}"
                            StaysOpenOnClick="True"
                            Click="ChangeSetting_Clicked"
                            IsChecked="{Binding Path=(modmanager:Settings.BetaMode)}"
                            ToolTip="{DynamicResource string_tooltip_optIntoBetaUpdates}"
                            IsCheckable="True" />
                        <MenuItem
                            Name="DeveloperMode_MenuItem"
                            Header="{DynamicResource string_Developermode}"
                            StaysOpenOnClick="True"
                            Click="ChangeSetting_Clicked"
                            IsChecked="{Binding Path=(modmanager:Settings.DeveloperMode)}"
                            ToolTip="{DynamicResource string_EnableDeveloperOrientedFeatures}"
                            IsCheckable="True" />
                        <MenuItem
                            Name="AutoLods2K_MenuItem"
                            Visibility="Visible"
                            Header="{DynamicResource string_autoUpdateLODs2K}"
                            StaysOpenOnClick="True"
                            Click="ChangeSetting_Clicked"
                            IsChecked="{Binding Path=(modmanager:Settings.AutoUpdateLODs2K)}"
                            ToolTip="{DynamicResource string_tooltip_autoLods2K}"
                            IsCheckable="True" />
                        <MenuItem
                            Name="AutoLods4K_MenuItem"
                            Visibility="Visible"
                            Header="{DynamicResource string_autoUpdateLODs4K}"
                            StaysOpenOnClick="True"
                            Click="ChangeSetting_Clicked"
                            IsChecked="{Binding Path=(modmanager:Settings.AutoUpdateLODs4K)}"
                            ToolTip="{DynamicResource string_tooltip_autoLods4K}"
                            IsCheckable="True" />
                        <MenuItem
                            Name="LaunchThroughOrigin_MenuItem"
                            Header="{DynamicResource string_setting_launchThroughOrigin}"
                            StaysOpenOnClick="True"
                            Click="ChangeSetting_Clicked"
                            Visibility="{Binding Converter={StaticResource FlightingVisibilityConverter}, ConverterParameter='launchthroughoriginfeature'}"
                            IsChecked="{Binding Path=(modmanager:Settings.LaunchGamesThroughOrigin)}"
                            ToolTip="{DynamicResource string_setting_tooltip_launchThroughOrigin}"
                            IsCheckable="True" />
                        <MenuItem
                            Name="PreferCompressingPackages_MenuItem"
                            Visibility="Visible"
                            Header="{DynamicResource string_compressPackagesOnInstall}"
                            StaysOpenOnClick="True"
                            Click="ChangeSetting_Clicked"
                            IsChecked="{Binding Path=(modmanager:Settings.PreferCompressingPackages)}"
                            ToolTip="{DynamicResource string_tooltip_compressPackagesOnInstall}"
                            IsCheckable="True" />
                        <MenuItem
                            Name="DarkMode_MenuItem"
                            Visibility="Visible"
                            Header="{DynamicResource string_Darktheme}"
                            StaysOpenOnClick="True"
                            Click="ChangeSetting_Clicked"
                            IsChecked="{Binding Path=(modmanager:Settings.DarkTheme)}"
                            ToolTip="{DynamicResource string_SwitchUItodarktheme}"
                            IsCheckable="True" />
                        <MenuItem
                            Header="{DynamicResource string_Language}">
                            <MenuItem.Icon>
                                <Image
                                    Source="/modmanager/localizations/icons/languageselector.png"
                                    RenderOptions.BitmapScalingMode="HighQuality" />
                            </MenuItem.Icon>
                            <!--<MenuItem Name="LanguageCZE_MenuItem" Header="Polski" Click="ChangeLanguage_Clicked" StaysOpenOnClick="True" Visibility="Collapsed">
                                <MenuItem.Icon>
                                    <Image Source="/modmanager/localizations/icons/czech.png" />
                                </MenuItem.Icon>
                            </MenuItem>-->
                            <MenuItem
                                Name="LanguageDEU_MenuItem"
                                Header="Deutsch"
                                Click="ChangeLanguage_Clicked"
                                StaysOpenOnClick="True">
                                <MenuItem.Icon>
                                    <Image
                                        Source="/modmanager/localizations/icons/german.png" />
                                </MenuItem.Icon>
                            </MenuItem>
                            <MenuItem
                                Name="LanguageINT_MenuItem"
                                Header="English"
                                Click="ChangeLanguage_Clicked"
                                StaysOpenOnClick="True">
                                <MenuItem.Icon>
                                    <Image
                                        Source="/modmanager/localizations/icons/english.png" />
                                </MenuItem.Icon>
                            </MenuItem>
                            <!--
                            <MenuItem Name="LanguageESN_MenuItem" Header="Español" Click="ChangeLanguage_Clicked" StaysOpenOnClick="True" Visibility="Collapsed">
                                <MenuItem.Icon>
                                    <Image Source="/modmanager/localizations/icons/spanish.png" />
                                </MenuItem.Icon>
                            </MenuItem>
                            -->
                            <!--<MenuItem
                                Name="LanguageFRA_MenuItem"
                                Header="Français"
                                Click="ChangeLanguage_Clicked"
                                StaysOpenOnClick="True">
                                <MenuItem.Icon>
                                    <Image
                                        Source="/modmanager/localizations/icons/french.png" />
                                </MenuItem.Icon>
                            </MenuItem>-->
                            <MenuItem
                                Name="LanguagePOL_MenuItem"
                                Header="Polski"
                                Click="ChangeLanguage_Clicked"
                                StaysOpenOnClick="True">
                                <MenuItem.Icon>
                                    <Image
                                        Source="/modmanager/localizations/icons/polish.png" />
                                </MenuItem.Icon>
                            </MenuItem>
                            <MenuItem
                                Name="LanguageBRA_MenuItem"
                                Header="Português"
                                Click="ChangeLanguage_Clicked"
                                StaysOpenOnClick="True">
                                <MenuItem.Icon>
                                    <Image
                                        Source="/modmanager/localizations/icons/portuguese.png" />
                                </MenuItem.Icon>
                            </MenuItem>
                            <MenuItem
                                Name="LanguageRUS_MenuItem"
                                Header="Pусский"
                                Click="ChangeLanguage_Clicked"
                                StaysOpenOnClick="True">
                                <MenuItem.Icon>
                                    <Image
                                        Source="/modmanager/localizations/icons/russian.png" />
                                </MenuItem.Icon>
                            </MenuItem>
                        </MenuItem>
                        <MenuItem
                            Header="{DynamicResource string_mE3TweaksModMaker}"
                            Style="{StaticResource MenuItemHeaderStyle}" />
                        <MenuItem
                            Name="ModMakerControllerMixins_MenuItem"
                            Header="{DynamicResource string_autoAddControllerMixinsToModMakerMods}"
                            StaysOpenOnClick="True"
                            Click="ChangeSetting_Clicked"
                            IsChecked="{Binding Path=(modmanager:Settings.ModMakerControllerModOption)}"
                            ToolTip="{DynamicResource string_tooltip_autoAddControllerMixinsToModMakerMods}"
                            IsCheckable="True" />
                        <MenuItem
                            Name="ModMakerKeybindsInjection_MenuItem"
                            Header="{DynamicResource string_autoInjectCustomKeybindsIntoModMakerMods}"
                            StaysOpenOnClick="True"
                            Click="ChangeSetting_Clicked"
                            IsChecked="{Binding Path=(modmanager:Settings.ModMakerAutoInjectCustomKeybindsOption)}"
                            ToolTip="{DynamicResource string_tooltip_autoInjectCustomKeybinds}"
                            IsCheckable="True" />
                        <MenuItem
                            Header="{DynamicResource string_Logging}"
                            Style="{StaticResource MenuItemHeaderStyle}" />
                        <MenuItem
                            Name="EnableTelemetry_MenuItem"
                            Header="{DynamicResource string_Enabletelemetry}"
                            StaysOpenOnClick="True"
                            Click="ChangeSetting_Clicked"
                            IsChecked="{Binding Path=(modmanager:Settings.EnableTelemetry)}"
                            ToolTip="{DynamicResource string_tooltip_toggleTelemetry}"
                            IsCheckable="True" />
                        <MenuItem
                            Name="LogModStartup_MenuItem"
                            Header="{DynamicResource string_LogModStartup}"
                            StaysOpenOnClick="True"
                            Click="ChangeSetting_Clicked"
                            IsChecked="{Binding Path=(modmanager:Settings.LogModStartup)}"
                            ToolTip="{DynamicResource string_tooltip_logModLoading}"
                            IsCheckable="True" />
                        <MenuItem
                            Name="LogModMakerCompiler_MenuItem"
                            Header="{DynamicResource string_LogModMakerCompiler}"
                            StaysOpenOnClick="True"
                            Click="ChangeSetting_Clicked"
                            IsChecked="{Binding Path=(modmanager:Settings.LogModMakerCompiler)}"
                            ToolTip="{DynamicResource string_tooltip_logModMakerCompiler}"
                            IsCheckable="True" />
                        <MenuItem
                            Name="LogModInstall_MenuItem"
                            Header="{DynamicResource string_LogModInstallation}"
                            StaysOpenOnClick="True"
                            Click="ChangeSetting_Clicked"
                            IsChecked="{Binding Path=(modmanager:Settings.LogModInstallation)}"
                            ToolTip="{DynamicResource string_tooltip_logModInstaller}"
                            IsCheckable="True" />
                        <MenuItem
                            Name="LogModUpdater_MenuItem"
                            Header="{DynamicResource string_LogModUpdater}"
                            StaysOpenOnClick="True"
                            Click="ChangeSetting_Clicked"
                            IsChecked="{Binding Path=(modmanager:Settings.LogModUpdater)}"
                            ToolTip="{DynamicResource string_tooltip_logModUpdater}"
                            IsCheckable="True" />
                    </MenuItem>
                    <Separator />
                    <MenuItem
                        Header="{DynamicResource string_Checkforcontentupdates}"
                        Command="{Binding CheckForContentUpdatesCommand}"
                        ToolTip="{DynamicResource string_ChecksME3Tweaksforupdatestovariousservices}">
                        <MenuItem.Icon>
                            <fa:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Cloud"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_Reloadsmodsfromthemodlibrary}"
                        Command="{Binding ReloadModsCommand}"
                        ToolTip="{DynamicResource string_tooltip_reloadModsFromLibrary}">
                        <MenuItem.Icon>
                            <fa:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Refresh"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_Exit}"
                        Click="ExitApplication_Click" />
                </MenuItem>
                <MenuItem
                    Header="{DynamicResource string_ModManagement}"
                    Padding="4">
                    <MenuItem
                        Header="{DynamicResource string_importAndManageMods}"
                        Style="{StaticResource MenuItemHeaderStyle}" />
                    <MenuItem
                        Header="{DynamicResource string_ImportMod}">
                        <MenuItem.Icon>
                            <fa:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="FilesOutline"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                        <MenuItem
                            Header="{DynamicResource string_HeaderDragDropFaster}"
                            Style="{StaticResource MenuItemHeaderStyle}" />
                        <MenuItem
                            Header="{DynamicResource string_ImportmodfromArchive}"
                            Command="{Binding ImportArchiveCommand}"
                            ToolTip="{DynamicResource string_ImportModFromArchiveTooltip}" />
                        <MenuItem
                            Header="{DynamicResource string_ImportalreadyinstalledCustomDLCmod}"
                            Command="{Binding ImportDLCModFromGameCommand}"
                            ToolTip="{DynamicResource string_tooltip_importAnAlreadyinstalledDLCMod}" />
                        <MenuItem
                            Header="{DynamicResource string_DownloadModMakermod}"
                            Command="{Binding DownloadModMakerModCommand}"
                            ToolTip="{DynamicResource string_tooltip_downloadME3TweaksMod}" />
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_CreateaME3modonModMaker}"
                        Click="OpenME3TweaksModMaker_Click"
                        ToolTip="{DynamicResource string_tooltip_createME3TweaksModMakerMod}">
                        <MenuItem.Icon>
                            <fa:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Edit"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_checkModsForUpdates}"
                        Command="{Binding CheckAllModsForUpdatesCommand}"
                        ToolTip="{DynamicResource string_tooltip_checksForUpdatesToModsThatSupportCheckingForUpdates}">
                        <MenuItem.Icon>
                            <fa:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Retweet"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_ASIModManager}"
                        Command="{Binding OpenASIManagerCommand}"
                        ToolTip="{DynamicResource string_ASIManagerTooltip}">
                        <MenuItem.Icon>
                            <fa:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="CodeFork"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_MixInLibrary}"
                        Command="{Binding MixinLibraryCommand}"
                        ToolTip="{DynamicResource string_tooltip_mixinLibrary}">
                        <MenuItem.Icon>
                            <fa:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Book"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_BatchModInstaller}"
                        Command="{Binding BatchModInstallerCommand}"
                        ToolTip="{DynamicResource string_tooltip_batchModInstaller}">
                        <MenuItem.Icon>
                            <fa:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Cubes"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_libraryManagement}"
                        Style="{StaticResource MenuItemHeaderStyle}" />
                    <MenuItem
                        Header="{DynamicResource string_Openmodslibrarydirectory}"
                        Click="OpenModsDirectory_Click"
                        ToolTip="{DynamicResource string_Opensthemodlibraryfolder}">
                        <MenuItem.Icon>
                            <fa:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="FolderOpen"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_developerTools}"
                        Style="{StaticResource MenuItemHeaderStyle}"
                        Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}" />
                    <MenuItem
                        Header="{DynamicResource string_CustomDLCConflictDetector}"
                        Command="{Binding ConflictDetectorCommand}"
                        Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}">
                        <MenuItem.Icon>
                            <fa:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Search"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_officialDLCToggler}"
                        Command="{Binding OfficialDLCTogglerCommand}"
                        Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}">
                        <MenuItem.Icon>
                            <fa:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="ToggleOn"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                </MenuItem>
                <MenuItem
                    Header="{DynamicResource string_ModUtils}"
                    Padding="4"
                    IsEnabled="{Binding SelectedMod,  Converter={StaticResource NullEnabledConverter}}"
                    ItemsSource="{StaticResource ModUtilsMenuArray}" />
                <MenuItem
                    Header="{DynamicResource string_Tools}"
                    Padding="4">
                    <MenuItem
                        Header="{DynamicResource string_Runofficialgameconfigurationtool}">
                        <MenuItem.Icon>
                            <fa:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Gears"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                        <MenuItem
                            Header="{DynamicResource string_MassEffect}"
                            Command="{Binding RunGameConfigToolCommand}"
                            CommandParameter="ME1">
                            <MenuItem.Icon>
                                <Image
                                    Source="{StaticResource me1gameicon}"
                                    Width="16"
                                    RenderOptions.BitmapScalingMode="HighQuality" />
                            </MenuItem.Icon>
                        </MenuItem>
                        <MenuItem
                            Header="{DynamicResource string_MassEffect2}"
                            Command="{Binding RunGameConfigToolCommand}"
                            CommandParameter="ME2">
                            <MenuItem.Icon>
                                <Image
                                    Source="{StaticResource me2gameicon}"
                                    Width="16"
                                    HorizontalAlignment="Center"
                                    RenderOptions.BitmapScalingMode="HighQuality" />
                            </MenuItem.Icon>
                        </MenuItem>
                        <MenuItem
                            Header="{DynamicResource string_MassEffect3}"
                            Command="{Binding RunGameConfigToolCommand}"
                            CommandParameter="ME3">
                            <MenuItem.Icon>
                                <Image
                                    Source="{StaticResource me3gameicon}"
                                    Width="16"
                                    HorizontalAlignment="Center"
                                    RenderOptions.BitmapScalingMode="HighQuality"/>
                            </MenuItem.Icon>
                        </MenuItem>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_GenerateStarterKit}">
                        <MenuItem.Icon>
                            <fa:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="PlayCircle"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                        <MenuItem
                            Name="GenerateStarterKitME1_MenuItem"
                            Header="{DynamicResource string_MassEffect}"
                            Click="GenerateStarterKit_Clicked">
                            <MenuItem.Icon>
                                <Image
                                    Source="{StaticResource me1gameicon}"
                                    Width="16"
                                    Height="16"
                                    RenderOptions.BitmapScalingMode="HighQuality" />
                            </MenuItem.Icon>
                        </MenuItem>
                        <MenuItem
                            Name="GenerateStarterKitME2_MenuItem"
                            Header="{DynamicResource string_MassEffect2}"
                            Click="GenerateStarterKit_Clicked">
                            <MenuItem.Icon>
                                <Image
                                    Source="{StaticResource me2gameicon}"
                                    Width="16"
                                    Height="16"
                                    RenderOptions.BitmapScalingMode="HighQuality" />
                            </MenuItem.Icon>
                        </MenuItem>
                        <MenuItem
                            Name="GenerateStarterKitME3_MenuItem"
                            Header="{DynamicResource string_MassEffect3}"
                            Click="GenerateStarterKit_Clicked">
                            <MenuItem.Icon>
                                <Image
                                    Source="{StaticResource me3gameicon}"
                                    Width="16"
                                    Height="16" 
                                    RenderOptions.BitmapScalingMode="HighQuality"
                                />
                            </MenuItem.Icon>
                        </MenuItem>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_Binkw32Bypasses}">
                        <MenuItem.Icon>
                            <fa:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Link"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                        <MenuItem
                            Header="{DynamicResource string_MassEffect}"
                            Style="{StaticResource MenuItemHeaderStyle}" />
                        <MenuItem
                            Command="{Binding Binkw32Command}"
                            CommandParameter="ME1"
                            Header="{Binding ME1ASILoaderText}"
                            IsChecked="{Binding ME1ASILoaderInstalled}"
                            ToolTip="{DynamicResource string_tooltip_me1ASILoader}"
                            StaysOpenOnClick="True" />
                        <Separator />
                        <MenuItem
                            Header="{DynamicResource string_MassEffect2}"
                            Style="{StaticResource MenuItemHeaderStyle}" />
                        <MenuItem
                            Command="{Binding Binkw32Command}"
                            CommandParameter="ME2"
                            Header="{Binding ME2ASILoaderText}"
                            IsChecked="{Binding ME2ASILoaderInstalled}"
                            ToolTip="{DynamicResource string_tooltip_me23ASILoader}"
                            StaysOpenOnClick="True" />
                        <Separator />
                        <MenuItem
                            Header="{DynamicResource string_MassEffect3}"
                            Style="{StaticResource MenuItemHeaderStyle}" />
                        <MenuItem
                            Command="{Binding Binkw32Command}"
                            CommandParameter="ME3"
                            Header="{Binding ME3ASILoaderText}"
                            IsChecked="{Binding ME3ASILoaderInstalled}"
                            ToolTip="{DynamicResource string_tooltip_me23ASILoader}"
                            StaysOpenOnClick="True" />
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_Grantwriteaccesstogamedirectories}"
                        Command="{Binding GrantWriteAccessCommand}"
                        ToolTip="{DynamicResource string_Grantswritepermissionstogamedirectories}">
                        <MenuItem.Icon>
                            <fa:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="HddOutline"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_RunAutoTOC}"
                        Command="{Binding AutoTOCCommand}"
                        ToolTip="{DynamicResource string_RunsAutoTOCToolTip}">
                        <MenuItem.Icon>
                            <fa:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Indent"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_consoleCommandKeybinder}"
                        Command="{Binding ConsoleKeyKeybinderCommand}"
                        ToolTip="{DynamicResource string_tooltip_consoleCommandKeybinder}">
                        <MenuItem.Icon>
                            <Image
                                Source="/images/terminal.png"
                                Width="16"
                                RenderOptions.BitmapScalingMode="Linear" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_customKeybindsInjectorMenuItem}"
                        Command="{Binding CustomKeybindsInjectorCommand}"
                        ToolTip="{DynamicResource string_tooltip_installsCustomKeybindsOfYourDesignIntoTheGame}">
                        <MenuItem.Icon>
                            <fa:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="KeyboardOutline"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_originIngameOverlayDisabler}"
                        Command="{Binding OriginInGameOverlayDisablerCommand}"
                        ToolTip="{DynamicResource string_tooltip_oigDisabler}">
                        <MenuItem.Icon>
                            <fa:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Ban"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_Additionalmoddingtools}"
                        Style="{StaticResource MenuItemHeaderStyle}" />
                    <MenuItem
                        Header="{DynamicResource string_ALOTInstaller}"
                        Name="ALOTInstaller_MenuItem"
                        Click="LaunchExternalTool_Clicked"
                        ToolTip="{DynamicResource string_ALOTInstallerTooltip}">
                        <MenuItem.Icon>
                            <Image
                                Source="/modmanager/toolicons/alot_32.png"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_egmSettings}"
                        ToolTip="{DynamicResource string_tooltip_egmSettings}"
                        Command="{Binding LaunchEGMSettingsCommand}">
                        <MenuItem.Icon>
                            <Image
                                Source="/modmanager/toolicons/egmsettings_32.png"
                                Width="16"
                                RenderOptions.BitmapScalingMode="Linear" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_MassEffectINIModder}"
                        Command="{Binding LaunchIniModderCommand}"
                        ToolTip="{DynamicResource string_MEIMTooltip}">
                        <MenuItem.Icon>
                            <Image
                                Source="/modmanager/toolicons/masseffectinimodder_32.png"
                                Width="16"
                                RenderOptions.BitmapScalingMode="Linear" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_MassEffectModder}"
                        Name="MassEffectModder_MenuItem"
                        Click="LaunchExternalTool_Clicked"
                        ToolTip="{DynamicResource string_Texturebrowserandinstaller}">
                        <MenuItem.Icon>
                            <Image
                                Source="/modmanager/toolicons/masseffectmodder_32.png"
                                Width="16"
                                RenderOptions.BitmapScalingMode="Linear" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_MassEffectRandomizer}"
                        Name="MassEffectRandomizer_MenuItem"
                        Click="LaunchExternalTool_Clicked"
                        ToolTip="{DynamicResource string_RandomizerforthefirstMassEffectgame}">
                        <MenuItem.Icon>
                            <Image
                                Source="/modmanager/toolicons/masseffectrandomizer_32.png"
                                Width="16"
                                RenderOptions.BitmapScalingMode="Linear" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_ME3ExplorerME3TweaksFork}"
                        Name="ME3Explorer_MenuItem"
                        Click="LaunchExternalTool_Clicked"
                        ToolTip="{DynamicResource string_ME3ExplorerME3TweaksForkTooltip}">
                        <MenuItem.Icon>
                            <Image
                                Source="/modmanager/toolicons/me3explorer_32.png"
                                Width="16"
                                RenderOptions.BitmapScalingMode="Linear" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_ME3ExplorerME3TweaksForkBeta}"
                        Name="ME3ExplorerBeta_MenuItem"
                        Click="LaunchExternalTool_Clicked"
                        ToolTip="{DynamicResource string_ME3ExplorerME3TweaksForkBetaTooltip}">
                        <MenuItem.Icon>
                            <Image
                                Source="/modmanager/toolicons/me3explorer_32.png"
                                Width="16"
                                RenderOptions.BitmapScalingMode="Linear" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_developerTools}"
                        Style="{StaticResource MenuItemHeaderStyle}"
                        Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}" />
                    <MenuItem
                        Header="{DynamicResource string_backupFileFetcher}"
                        Command="{Binding BackupFileFetcherCommand}"
                        Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}"
                        ToolTip="{DynamicResource string_tooltip_backupFileFetcher}">
                        <MenuItem.Icon>
                            <fa:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Download"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_nexusFileSearch}"
                        Command="{Binding NexusModsFileSearchCommand}"
                        Visibility="{Binding Path=(modmanager:Settings.DeveloperMode), Converter={StaticResource BoolToVisibilityConverter}}"
                        ToolTip="{DynamicResource string_tooltip_nexusFileSearch}">
                        <MenuItem.Icon>
                            <fa:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Search"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                    </MenuItem>
                </MenuItem>
                <MenuItem
                    Header="{DynamicResource string_BackupRestore}"
                    Padding="4">
                    <MenuItem
                        Header="{DynamicResource string_Backup}"
                        Command="{Binding BackupCommand}"
                        ToolTip="{DynamicResource string_Createentiregamebackups}">
                        <MenuItem.Icon>
                            <fa:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Database"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_Restore}"
                        Command="{Binding RestoreCommand}"
                        ToolTip="{DynamicResource string_Restoreagamefrombackup}">
                        <MenuItem.Icon>
                            <fa:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Repeat"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </MenuItem.Icon>
                    </MenuItem>
                </MenuItem>
                <MenuItem
                    Header="{DynamicResource string_debug}"
                    Visibility="{x:Static local:App.DebugOnlyVisibility}">
                    <MenuItem
                        Header="{DynamicResource string_requiresSelectedMod}"
                        Style="{StaticResource MenuItemHeaderStyle}"
                        Visibility="{x:Static local:App.DebugOnlyVisibility}" />
                    <MenuItem
                        Header="{DynamicResource string_reloadSelectedMod}"
                        Click="ReloadSelectedMod_Click"
                        Visibility="{x:Static local:App.DebugOnlyVisibility}" />
                    <MenuItem
                        Header="{DynamicResource string_debugPrintAllReferencedFiles}"
                        Click="DebugPrintReferencedFiles_Click"
                        Visibility="{x:Static local:App.DebugOnlyVisibility}" />
                    <MenuItem
                        Header="{DynamicResource string_debugPrintInstallationQueue}"
                        Click="DebugPrintInstallationQueue_Click"
                        Visibility="{x:Static local:App.DebugOnlyVisibility}" />
                    <MenuItem
                        Header="{DynamicResource string_requiresSelectedTarget}"
                        Style="{StaticResource MenuItemHeaderStyle}"
                        Visibility="{x:Static local:App.DebugOnlyVisibility}" />
                    <MenuItem
                        Header="{DynamicResource string_stampCurrentTargetWithALOTMarker}"
                        Click="StampCurrentTargetWithALOT_Click"
                        Visibility="{x:Static local:App.DebugOnlyVisibility}" />
                    <MenuItem
                        Header="{DynamicResource string_stripCurrentTargetALOTMarker}"
                        Click="StripCurrentTargetALOTMarker_Click"
                        Visibility="{x:Static local:App.DebugOnlyVisibility}" />
                    <MenuItem
                        Header="{DynamicResource string_requiresNothing}"
                        Style="{StaticResource MenuItemHeaderStyle}"
                        Visibility="{x:Static local:App.DebugOnlyVisibility}" />
                    <MenuItem
                        Header="{DynamicResource string_showWelcomePanel}"
                        Click="ShowWelcomePanel_Click"
                        Visibility="{x:Static local:App.DebugOnlyVisibility}" />
                    <MenuItem
                        Header="{DynamicResource string_showBackupNag}"
                        Click="ShowBackupNag_Click"
                        Visibility="{x:Static local:App.DebugOnlyVisibility}" />
                    <MenuItem
                        Header="{DynamicResource string_mEMVanillaDBViewer}"
                        Click="MEMVanillaDBViewer_Click"
                        Visibility="{x:Static local:App.DebugOnlyVisibility}" />
                </MenuItem>
                <MenuItem
                    Name="HelpMenuItem"
                    Header="{DynamicResource string_Help}"
                    Padding="4">
                    <MenuItem
                        Name="DynamicHelp_MenuItem"
                        Header="{DynamicResource string_DynamicHelp}"
                        Style="{StaticResource MenuItemHeaderStyle}" />
                    <MenuItem
                        Header="{DynamicResource string_Diagnostics}"
                        Style="{StaticResource MenuItemHeaderStyle}" />
                    <MenuItem
                        Header="{DynamicResource string_ModManagerLogsDiagnostics}"
                        Click="UploadLog_Click"
                        ToolTip="{DynamicResource string_TroubleshootingtoolsforME3Tweaks}">
                        <MenuItem.Icon>
                            <fa:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Stethoscope"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_About}"
                        Style="{StaticResource MenuItemHeaderStyle}" />
                    <MenuItem
                        Header="{DynamicResource string_debug_showIntroTutorial}"
                        Command="{Binding OpenTutorialCommand}">
                        <MenuItem.Icon>
                            <fa:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="MapOutline"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{Binding EndorseM3String}"
                        Command="{Binding EndorseM3OnNexusCommand}"
                        ToolTip="{DynamicResource string_tooltip_endorseM3OnNexus}">
                        <MenuItem.Icon>
                            <fa:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Heart"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_donations}"
                        Click="Donations_Click"
                        ToolTip="{DynamicResource string_tooltip_opensTheME3TweaksDonationsInformationPage}">
                        <MenuItem.Icon>
                            <fa:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="HandshakeOutline"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_moddescfileformatspecification}"
                        Click="Documentation_Click"
                        ToolTip="{DynamicResource string_ReferenceinformationModdesc}">
                        <MenuItem.Icon>
                            <fa:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="Book"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem
                        Header="{DynamicResource string_AboutME3TweaksModManager}"
                        Click="About_Click"
                        ToolTip="{DynamicResource string_Aboutthisprogram}">
                        <MenuItem.Icon>
                            <fa:ImageAwesome
                                Style="{StaticResource EnableDisableImageStyle}"
                                Icon="InfoCircle"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                                Height="16"
                                Width="16" />
                        </MenuItem.Icon>
                    </MenuItem>
                </MenuItem>
                <MenuItem
                    Style="{StaticResource MenuBarButton}"
                    Header="{Binding NexusLoginInfoString}"
                    Command="{Binding LoginToNexusCommand}"
                    HorizontalAlignment="Right"
                    Padding="0"
                    HorizontalContentAlignment="Right"
                    ToolTip="{DynamicResource string_tooltip_manageNexusModsIntegration}">
                    <MenuItem.Icon>
                        <Image
                            Source="/modmanager/nexusmodsintegration/nexusmods_icon.png"
                            Width="16"
                            RenderOptions.BitmapScalingMode="Linear" />
                    </MenuItem.Icon>
                </MenuItem>
            </Menu>
            <StatusBar
                DockPanel.Dock="Bottom"
                Padding="5,0">
                <StatusBarItem
                    HorizontalContentAlignment="Center"
                    VerticalContentAlignment="Center"
                    Name="LoadingSpinnerContainer"
                    Width="Auto"
                    Height="36"
                    Padding="0">
                    <!--<StatusBarItem.Resources>
                        <Storyboard x:Key="imageRotationStoryboard" Storyboard.TargetName="LoadingSpinner_Image" Storyboard.TargetProperty="RenderTransform.(RotateTransform.Angle)">
                            <DoubleAnimation From="0" To="360" BeginTime="0:0:0" Duration="0:0:0.75" RepeatBehavior="Forever" />
                        </Storyboard>
                    </StatusBarItem.Resources>
                    <Image x:Name="LoadingSpinner_Image" Source="/images/loadingspinner.png" Width="0" Height="32" RenderTransformOrigin="0.5, 0.5" >
                        <Image.Triggers>
                            <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                                <EventTrigger.Actions>
                                    <BeginStoryboard Storyboard="{StaticResource imageRotationStoryboard}" />
                                </EventTrigger.Actions>
                            </EventTrigger>
                        </Image.Triggers>
                        <Image.RenderTransform>
                            <RotateTransform Angle="0" />
                        </Image.RenderTransform>
                    </Image>-->
                    <ContentControl
                        x:Name="LoadingSpinner_Image"
                        Focusable="False"
                        ContentTemplate="{DynamicResource {x:Static adonisUi:Templates.LoadingBars}}"
                        Foreground="{DynamicResource {x:Static adonisUi:Brushes.ForegroundBrush}}"
                        Width="32"
                        Height="32" />
                </StatusBarItem>
                <StatusBarItem>
                    <TextBlock
                        Text="{Binding CurrentOperationText, Mode=OneWay}" />
                </StatusBarItem>
                <StatusBarItem
                    DockPanel.Dock="Right"
                    HorizontalContentAlignment="Right">
                    <StackPanel
                        Orientation="Horizontal">
                        <Image
                            Name="BottomBarGameID_Image"
                            Source="{Binding SelectedGameTarget.Game, Converter={StaticResource GameToImageIconConverter}}"
                            Width="25"
                            Height="25"
                            Margin="5,0" />
                        <Button
                            MinWidth="70"
                            Padding="10,7"
                            Content="{Binding ApplyModButtonText}"
                            Command="{Binding ApplyModCommand}"
                            BorderBrush="{DynamicResource {x:Static adonisUi:Brushes.Layer1IntenseHighlightBorderBrush}}"
                            ToolTip="{DynamicResource string_tooltip_applyThisModToTheGame}" />
                        <Button
                            MinWidth="70"
                            Padding="10,7"
                            Content="{DynamicResource string_startGame}"
                            Command="{Binding StartGameCommand}"
                            Margin="5,0,0,0"
                            Style="{DynamicResource {x:Static adonisUi:Styles.AccentButton}}"
                            ToolTip="{DynamicResource string_tooltip_launchCurrentlySelectedTarget}" />
                    </StackPanel>
                </StatusBarItem>
            </StatusBar>
            <Grid
                Background="{DynamicResource {x:Static adonisUi:Brushes.Layer1BackgroundBrush}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition
                        Width="7" />
                    <ColumnDefinition
                        Width="275" />
                    <ColumnDefinition
                        Width="5" />
                    <ColumnDefinition
                        Width="*" />
                    <ColumnDefinition
                        Width="Auto" />
                    <ColumnDefinition
                        Width="Auto" />
                    <ColumnDefinition
                        Width="7" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition
                        Height="3" />
                    <RowDefinition
                        Height="Auto" />
                    <RowDefinition
                        Height="Auto" />
                    <RowDefinition
                        Height="Auto" />
                    <RowDefinition
                        Height="Auto" />
                    <RowDefinition
                        Height="*" />
                    <RowDefinition
                        Height="3" />
                </Grid.RowDefinitions>
                <!-- Header Panel -->
                <TextBlock
                    Text="{Binding Source={x:Static local:App.AppVersionHR}}"
                    Grid.Row="1"
                    Grid.Column="1"
                    Grid.ColumnSpan="3"
                    FontWeight="Bold" />
                <TextBlock
                    Text="{DynamicResource string_installationTarget}"
                    Grid.Row="2"
                    Grid.Column="1"
                    Grid.ColumnSpan="3"
                    Margin="10,0" />
                <Grid
                    Grid.Row="3"
                    Grid.Column="1"
                    Grid.ColumnSpan="7">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition
                            Width="7" />
                        <ColumnDefinition
                            Width="275" />
                        <ColumnDefinition
                            Width="*" />
                        <ColumnDefinition
                            Width="Auto" />
                        <ColumnDefinition
                            Width="Auto" />
                        <ColumnDefinition
                            Width="7" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition
                            Height="Auto" />
                    </Grid.RowDefinitions>
                    <usercontrols:TargetSelector
                        AvailableTargets="{Binding InstallationTargets}"
                        SelectedGameTarget="{Binding SelectedGameTarget}"
                        Grid.Row="0"
                        Grid.Column="0"
                        Grid.ColumnSpan="3"
                        Margin="10,0,0,0"
                        HorizontalContentAlignment="Stretch"
                        ToolTip="{DynamicResource string_tooltip_currentTarget}"/>
                    <Button
                        Content="{DynamicResource string_addTarget}"
                        Command="{Binding AddTargetCommand}"
                        Grid.Row="0"
                        Grid.Column="4"
                        Padding="5,0"
                        BorderBrush="{DynamicResource {x:Static adonisUi:Brushes.Layer1IntenseHighlightBorderBrush}}"
                        ToolTip="{DynamicResource string_tooltip_addAdditionalTarget}" />
                    <Button
                        Content="{DynamicResource string_targetInfo}"
                        Command="{Binding ShowinstallationInformationCommand}"
                        Grid.Row="0"
                        Grid.Column="3"
                        Padding="5,0"
                        Margin="3,0"
                        FontWeight="Bold"
                        BorderBrush="{DynamicResource {x:Static adonisUi:Brushes.Layer1IntenseHighlightBorderBrush}}"
                        ToolTip="{DynamicResource string_tooltip_targetInfo}"
                        Style="{DynamicResource {x:Static adonisUi:Styles.AccentButton}}" />
                </Grid>
                <Separator
                    Grid.Row="4"
                    Grid.Column="1"
                    Grid.ColumnSpan="5"
                    Margin="0,5" />
                <DockPanel
                    Grid.Row="5"
                    Grid.Column="1"
                    Background="Transparent">
                    <DockPanel
                        DockPanel.Dock="Top">
                        <Button
                            DockPanel.Dock="Right"
                            Background="Transparent"
                            BorderThickness="2"
                            Command="{Binding ReloadModsCommand}"
                            ToolTip="{DynamicResource string_Reloadsmodsfromthemodlibrary}">
                            <fa:ImageAwesome
                                Icon="Refresh"
                                VerticalAlignment="Center"
                                HorizontalAlignment="Center"
                                Width="10"
                                Height="10"
                                Foreground="{DynamicResource {x:Static adonisUi:Brushes.HyperlinkBrush}}" />
                        </Button>
                        <Button
                            Content="ME3"
                            DockPanel.Dock="Right"
                            Click="ToggleME3Visibility_Click"
                            ToolTip="{DynamicResource string_tooltip_filterME3}">
                            <Button.Style>
                                <Style
                                    TargetType="Button"
                                    BasedOn="{StaticResource {x:Static adonisUi:Styles.AccentButton}}">
                                    <Style.Triggers>
                                        <DataTrigger
                                            Binding="{Binding ME3ModsVisible}"
                                            Value="False">
                                            <Setter
                                                Property="Background"
                                                Value="{DynamicResource {x:Static adonisUi:Brushes.Layer0BackgroundBrush}}" />
                                            <Setter
                                                Property="Foreground"
                                                Value="{DynamicResource {x:Static adonisUi:Brushes.DisabledForegroundBrush}}" />
                                            <Setter
                                                Property="BorderBrush"
                                                Value="{DynamicResource {x:Static adonisUi:Brushes.DisabledForegroundBrush}}" />
                                            <Setter
                                                Property="BorderThickness"
                                                Value="1" />
                                        </DataTrigger>
                                        <DataTrigger
                                            Binding="{Binding ME3ModsVisible}"
                                            Value="True">
                                            <Setter
                                                Property="Background"
                                                Value="{DynamicResource {x:Static adonisUi:Brushes.AccentHighlightBrush}}" />
                                            <Setter
                                                Property="Foreground"
                                                Value="White" />
                                            <Setter
                                                Property="BorderBrush"
                                                Value="{DynamicResource {x:Static adonisUi:Brushes.HyperlinkBrush}}" />
                                            <Setter
                                                Property="BorderThickness"
                                                Value="2,2,2,1" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>
                        <Button
                            Content="ME2"
                            DockPanel.Dock="Right"
                            Click="ToggleME2Visibility_Click"
                            ToolTip="{DynamicResource string_tooltip_filterME2}">
                            <Button.Style>
                                <Style
                                    TargetType="Button"
                                    BasedOn="{StaticResource {x:Static adonisUi:Styles.AccentButton}}">
                                    <Style.Triggers>
                                        <DataTrigger
                                            Binding="{Binding ME2ModsVisible}"
                                            Value="False">
                                            <Setter
                                                Property="Background"
                                                Value="{DynamicResource {x:Static adonisUi:Brushes.Layer0BackgroundBrush}}" />
                                            <Setter
                                                Property="Foreground"
                                                Value="{DynamicResource {x:Static adonisUi:Brushes.DisabledForegroundBrush}}" />
                                            <Setter
                                                Property="BorderBrush"
                                                Value="{DynamicResource {x:Static adonisUi:Brushes.DisabledForegroundBrush}}" />
                                            <Setter
                                                Property="BorderThickness"
                                                Value="1" />
                                        </DataTrigger>
                                        <DataTrigger
                                            Binding="{Binding ME2ModsVisible}"
                                            Value="True">
                                            <Setter
                                                Property="Background"
                                                Value="{DynamicResource {x:Static adonisUi:Brushes.AccentHighlightBrush}}" />
                                            <Setter
                                                Property="Foreground"
                                                Value="White" />
                                            <Setter
                                                Property="BorderBrush"
                                                Value="{DynamicResource {x:Static adonisUi:Brushes.HyperlinkBrush}}" />
                                            <Setter
                                                Property="BorderThickness"
                                                Value="2,2,2,1" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>
                        <Button
                            Content="ME1"
                            DockPanel.Dock="Right"
                            Click="ToggleME1Visibility_Click"
                            ToolTip="{DynamicResource string_tooltip_filterME1}">
                            <Button.Style>
                                <Style
                                    TargetType="Button"
                                    BasedOn="{StaticResource {x:Static adonisUi:Styles.AccentButton}}">
                                    <Style.Triggers>
                                        <DataTrigger
                                            Binding="{Binding ME1ModsVisible}"
                                            Value="False">
                                            <Setter
                                                Property="Background"
                                                Value="{DynamicResource {x:Static adonisUi:Brushes.Layer0BackgroundBrush}}" />
                                            <Setter
                                                Property="Foreground"
                                                Value="{DynamicResource {x:Static adonisUi:Brushes.DisabledForegroundBrush}}" />
                                            <Setter
                                                Property="BorderBrush"
                                                Value="{DynamicResource {x:Static adonisUi:Brushes.DisabledForegroundBrush}}" />
                                            <Setter
                                                Property="BorderThickness"
                                                Value="1" />
                                        </DataTrigger>
                                        <DataTrigger
                                            Binding="{Binding ME1ModsVisible}"
                                            Value="True">
                                            <Setter
                                                Property="Background"
                                                Value="{DynamicResource {x:Static adonisUi:Brushes.AccentHighlightBrush}}" />
                                            <Setter
                                                Property="Foreground"
                                                Value="White" />
                                            <Setter
                                                Property="BorderBrush"
                                                Value="{DynamicResource {x:Static adonisUi:Brushes.HyperlinkBrush}}" />
                                            <Setter
                                                Property="BorderThickness"
                                                Value="2,2,2,1" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>
                        <TextBlock
                            Text="{DynamicResource string_AvailableMods}"
                            ToolTip="{DynamicResource string_tooltip_modLibrary}"
                            FontWeight="Bold"
                            VerticalAlignment="Center" />
                    </DockPanel>
                    <StackPanel
                        Name="FailedModsPopupPanel"
                        DockPanel.Dock="Bottom"
                        HorizontalAlignment="Center"
                        Height="0">
                        <TextBlock
                            ToolTip="{DynamicResource string_tooltip_someModsFailed}">
              <Hyperlink
                                RequestNavigate="FailedMods_LinkClick"
                                NavigateUri="internal://trigger"
                                Foreground="Red">
                <TextBlock
                                    Text="{Binding FailedModsString}" />
              </Hyperlink>
            </TextBlock>
                    </StackPanel>
                    <Grid>
                        <ListBox
                            Name="ModsList_ListBox"
                            ItemsSource="{Binding VisibleFilteredMods}"
                            Background="{DynamicResource {x:Static adonisUi:Brushes.Layer0BackgroundBrush}}"
                            SelectedItem="{Binding SelectedMod}"
                            IsEnabled="{Binding IsLoadingMods, Converter={StaticResource BoolEnabledConverter}, ConverterParameter='Not'}"
                            BorderThickness="1"
                            IsTextSearchEnabled="True"
                            TextSearch.TextPath="ModName"
                            Visibility="{Binding VisibleFilteredMods.Any, Converter={StaticResource BoolToVisibilityConverter}}"
                            Tag="{Binding DataContext}">
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <StackPanel
                                        Orientation="Horizontal"
                                        Tag="{Binding DataContext, RelativeSource={RelativeSource AncestorType={x:Type ListBox}}}">
                                        <Image
                                            Source="{Binding Game, Converter={StaticResource GameToImageIconConverter}}"
                                            Width="16"
                                            Height="16"
                                            Margin="0,0,5,0" />
                                        <TextBlock
                                            Text="{Binding ModName}" />
                                    </StackPanel>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                            <ListBox.ItemContainerStyle>
                                <Style
                                    TargetType="ListBoxItem"
                                    BasedOn="{StaticResource ListBoxItemStyle}">
                                    <Setter
                                        Property="ContextMenu">
                                        <Setter.Value>
                                            <ContextMenu
                                                StaysOpen="True"
                                                ItemsSource="{StaticResource ModUtilsMenuArray}"
                                                DataContext="{x:Reference MainWindow_Ref}" />
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </ListBox.ItemContainerStyle>
                        </ListBox>
                        <Border
                            BorderThickness="1"
                            BorderBrush="{DynamicResource {x:Static adonisUi:Brushes.Layer1HighlightBorderBrush}}">
                            <DockPanel
                                Background="{DynamicResource {x:Static adonisUi:Brushes.Layer0BackgroundBrush}}"
                                Visibility="{Binding VisibleFilteredMods.Any, Converter={StaticResource BoolToVisibilityConverter}, ConverterParameter='Not'}">
                                <StackPanel
                                    Margin="2,0">
                                    <TextBlock
                                        TextWrapping="Wrap"
                                        FontWeight="Bold"
                                        DockPanel.Dock="Top">
                                        <TextBlock.Style>
                                            <Style
                                                TargetType="{x:Type TextBlock}">
                                                <Setter
                                                    Property="Text"
                                                    Value="{DynamicResource string_noModsInTheLibraryHeader}" />
                                                <Style.Triggers>
                                                    <DataTrigger
                                                        Binding="{Binding StartedUp}"
                                                        Value="False">
                                                        <Setter
                                                            Property="Text"
                                                            Value="{DynamicResource string_pleaseWait}" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBlock.Style>
                                    </TextBlock>
                                    <TextBlock
                                        TextWrapping="Wrap">
                                        <TextBlock.Style>
                                            <Style
                                                TargetType="{x:Type TextBlock}">
                                                <Setter
                                                    Property="Text"
                                                    Value="{DynamicResource string_noModsInLibraryDescription}" />
                                                <Style.Triggers>
                                                    <DataTrigger
                                                        Binding="{Binding StartedUp}"
                                                        Value="False">
                                                        <Setter
                                                            Property="Text"
                                                            Value="{DynamicResource string_pleaseWait_startup}" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </TextBlock.Style>
                                    </TextBlock>
                                </StackPanel>
                            </DockPanel>
                        </Border>
                    </Grid>
                </DockPanel>
                <GridSplitter
                    Grid.Row="5"
                    Grid.Column="2"
                    HorizontalAlignment="Stretch" />
                <DockPanel
                    Grid.Row="5"
                    Grid.Column="3"
                    Grid.ColumnSpan="3">
                    <DockPanel
                        DockPanel.Dock="Top">
                        <Button
                            Content="{Binding CurrentModEndorsementStatus}"
                            DockPanel.Dock="Right"
                            Visibility="{Binding SelectedMod, Converter={StaticResource NullHiddenConverter}}"
                            Command="{Binding EndorseSelectedModCommand}"
                            Style="{DynamicResource {x:Static adonisUi:Styles.AccentButton}}" />
                        <TextBlock
                            DockPanel.Dock="Top"
                            Text="{DynamicResource string_modDescription}"
                            FontWeight="Bold"
                            Height="18" />
                    </DockPanel>
                    <StackPanel
                        Name="VisitWebsitePanel"
                        DockPanel.Dock="Bottom"
                        HorizontalAlignment="Center"
                        Height="0">
                        <TextBlock
                            ToolTip="{Binding SelectedMod.ModWebsite}">
              <Hyperlink
                                RequestNavigate="RequestNavigate"
                                NavigateUri="{Binding SelectedMod.ModWebsite}">
                <TextBlock
                                    Text="{Binding VisitWebsiteText}" />
              </Hyperlink>
            </TextBlock>
                    </StackPanel>
                    <Image
                        Source="{Binding SelectedMod.BannerBitmap}"
                        Visibility="{Binding SelectedMod.BannerBitmap, Converter={StaticResource NullVisibilityConverter}}"
                        Margin="0,1"
                        RenderOptions.BitmapScalingMode="HighQuality"
                        DockPanel.Dock="Top" />
                    <TextBox
                        Name="ModDescription_TextBox"
                        IsReadOnly="True"
                        IsReadOnlyCaretVisible="False"
                        HorizontalContentAlignment="Left"
                        HorizontalAlignment="Stretch"
                        Background="{DynamicResource {x:Static adonisUi:Brushes.Layer0BackgroundBrush}}"
                        TextWrapping="Wrap"
                        VerticalScrollBarVisibility="Auto"
                        AllowDrop="True"
                        PreviewDragOver="Window_DragOver"
                        VerticalContentAlignment="Top"
                        adonisExtensions:CursorSpotlightExtension.BackgroundBrush="Transparent"
                        adonisExtensions:CursorSpotlightExtension.RelativeSpotlightSize="0"
                        adonisExtensions:CursorSpotlightExtension.MaxBlurRadius="0">
                        <TextBox.Text>
                            <PriorityBinding>
                                <Binding
                                    Path="SelectedMod.DisplayedModDescription"
                                    Mode="OneWay" />
                                <Binding
                                    Path="NoModSelectedText"
                                    Mode="OneWay" />
                            </PriorityBinding>
                        </TextBox.Text>
                    </TextBox>
                </DockPanel>
            </Grid>
        </DockPanel>
        <xctk:BusyIndicator.ProgressBarStyle>
            <Style
                TargetType="ProgressBar">
                <Setter
                    Property="Visibility"
                    Value="Collapsed" />
            </Style>
        </xctk:BusyIndicator.ProgressBarStyle>
        <xctk:BusyIndicator.OverlayStyle>
            <Style
                TargetType="Rectangle">
                <Setter
                    Property="Fill"
                    Value="#88333333" />
            </Style>
        </xctk:BusyIndicator.OverlayStyle>
    </xctk:BusyIndicator>
</Window>